country_decisions = {

	flee_to_brazil = {
		major = yes
		potential = {
			capital_scope = {
				NOT = {
					continent = north_america
					continent = south_america
				}
			}
			NOT = { has_country_flag = changed_from_colonial_nation }
			NOT = { has_country_flag = fled_to_brazil }
			is_random_new_world = no
			any_subject_country = {
				is_colonial_nation = yes
				capital_scope = {
					colonial_region = colonial_brazil
				}
			}
		}
		allow = {
			is_free_or_tributary_trigger = yes
			custom_trigger_tooltip = {
				tooltip = brazil_provinces_tooltip
				any_subject_country = {
					is_colonial_nation = yes
					capital_scope = {
						colonial_region = colonial_brazil
					}
					num_of_cities = 20
				}
			}
		}
		effect = {
			change_tag = BRZ
			every_subject_country = {
				limit = {
					is_colonial_nation = yes
					capital_scope = {
						colonial_region = colonial_brazil
					}
				}
				FROM = { inherit = PREV }
			}
			custom_tooltip = brazil_move_capital_tooltip

			hidden_effect = {
				capital_scope = {
					remove_core = ROOT
					cede_province = previous_owner
					add_core = owner
					owner = {
						every_province = {
							limit = {
								same_continent = PREV
								is_core = ROOT
							}
							add_core = PREV
						}
						ROOT = {
							if = {
								limit = {
									religion_group = christian
								}
								PREV = {
									every_province = {
										limit = {
											same_continent = PREV
											is_core = ROOT
										}
										remove_core = ROOT
										cede_province = previous_owner
									}
								}
								create_union = PREV
								else = {
									PREV = {
										capital_scope = {
											cede_province = ROOT
											add_core = ROOT
										}
									}
								}
							}
						}
					}
				}
			}

			custom_tooltip = brazil_portugal_tooltip
			hidden_effect = {
				if = {
					limit = {
						763 = {
							owned_by = ROOT
						}
					}
					763 = {
						move_capital_effect = yes
					}
				}
				else = {
					random_owned_province = {
						limit = {
							colonial_region = colonial_brazil
						}
						move_capital_effect = yes
					}
				}          
			}
			remove_non_electors_emperors_from_empire_effect = yes
			add_stability = -2
			add_prestige = -25
			if = {
								limit = { has_custom_ideas = no }
								country_event = { id = ideagroups.1 } #Swap Ideas
						}
			set_country_flag = changed_from_colonial_nation
			set_country_flag = fled_to_brazil
		}
		ai_will_do = {
			factor = 0
		}
	}

}